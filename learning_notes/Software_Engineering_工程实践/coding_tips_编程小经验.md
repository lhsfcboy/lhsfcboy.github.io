# 编程实践的小经验

## 避免多重否定, 使用正向逻辑表达

大脑难以处理多重否定. 例如我们对于空行和非空行进行处理时. `empty_line`已经可以算是一种`否定`, 概念。
在代码设计中，如果继续在此基础上添加更多的否定逻辑，不仅增加了理解难度，还容易导致逻辑错误。来看以下两个例子：

```c
if(!none_empty_line){

}else{
  // what we are doing here?
}


if(contains_letter_line){

}else{
  // what we are doing here?
}
```

第一个例子中，none_empty_line是对“没有空行”的描述，使用!操作符又对其进行了反转。此时，大脑需要先理解“没有空行”的含义，再理解它的反义含义。这种多重否定让代码的意图变得模糊，增加了阅读负担。

## for循环的计数器

- 考虑使用`<=`来表示停止值, 对停止时的边界值更清晰的认识
- 使用自增, 避免自减, 自增比自减符合人类思维
  - 人们通常习惯于从小到大地数数，如1、2、3、4……这种顺序性符合我们的直觉。在编程中，使用自增循环（如`i++`）使代码更符合这种思维方式，易于理解和维护。
- 起始数具左, 停止条件具右, 符合数轴上左小右大的直观
  - 在代码中，循环通常写成`for (int i = 起始值; i <= 结束值; i++)`，这与数轴上从左到右、从小到大的认知一致。这种排列方式使得循环的开始和结束条件更加清晰明了，便于阅读。
- 循环内元素比较时, `array[i] vs array[i+1]` 比 `array[i] vs array[i-1]` 要易于理解
  - `向前看`比`向后看`符合直观思维

假设我们有一个整数数组，想要找到所有相邻元素中，前一个元素小于后一个元素的情况。

```c
#include <stdio.h>

int main() {
    int array[] = {3, 5, 2, 4, 6};
    int n = sizeof(array) / sizeof(array[0]);

    for (int i = 0; i < n - 1; i++) {
        if (array[i] < array[i + 1]) {
            printf("array[%d] = %d < array[%d] = %d\n", i, array[i], i + 1, array[i + 1]);
        }
    }

    return 0;
}
```
