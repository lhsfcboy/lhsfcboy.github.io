## 需要学习C语言吗？

所有提出这个问题的学习者恐怕都不需要学习C语言。C语言是典型的“底层”语言，有大量的细节。对比Python，很好的包装了这些细节。
可以想象的到的需要学习C语言的受众有两类：

- 计算机专业的学生，学习C语言配合了编译原理/计算机组成原理/操作系统等后续课程的学习
- 从事操作系统开发/嵌入式开发等紧密连接系统底层与硬件的工作者

对于类似以上的学习者，Python一类高级语言所掩盖/包装的细节，正是施展手脚的道场。

## 推荐的中文版文字教程

- C语言入门教程 ----阮一峰 <https://wangdoc.com/clang/intro>
    - 著名的IT博主阮一峰推出的C语言入门教程，排版精美，阅读性强

- Linux C编程一站式学习 ----宋劲杉 <https://akaedu.github.io/book/>
    - 初学者能读懂的前提下，从底层刨析Linux下的C语言程序，内容极具深度，以C语言编程为轴线覆盖了诸多的相关知识
    - 唯一的遗憾是截稿于2009年，之后未能进一步更新
    - 作者所供职的akaedu（亚嵌教育）是一家典型的“理想主义者创业型”公司。机构倒闭以后在GitHub上开源了遗留的各种教学资源。
    - 本书亦有文字版，分2009版和2011版，其中2011版面向纯粹第一次学习的初学者重写了很多内容
    - 作者定居国外之后试图重写，但是似乎没有完成 <https://www.markjour.com/docs/akabook/zh/index.html>

## 其他经典教材

- C Programming: A Modern Approach
    - Author: K. N. King
    - 中文书名：C语言程序设计：现代方法
    - 讲解了一些适应现代大规模编程的方法
 
- C Primer Plus
    - Author: Stephen Prata
    - C语言的百科全书，既有深度又有广度，可以作为工具书使用
    - 典型的国外教材 国内翻译版口碑不好
 
- The C Programming Language 2nd edition
    - Author: Brian W. Kernighan, Dennis M. Ritchie
    - 中文书名：C程序设计语言：第2版•新版 (豆瓣)
    - 此书简称K&R，由C语言的创建者撰写，其品质毋庸置疑。写的十分精简，不过并不适合入门

## printf

```C
printf()

printf("\n=======END========\n");
```

## 代码换行

```C
// 宏定义中换行
使用\结尾作为换行标记
在编译时，\后面的换行符将被忽略，当做一行处理
#define my_puts(x) printf("%s", \
    x);

//执行语句换行
同样可以使用\作为换行符
若在空格出换行, 则不需要加换行符标志
if(NULL != input\
&& TRUE == input->state)

//字符串的换行
使用\作为换行符通常会应为代码缩进而引入多余的空格
C语言规定，连续的用""引起的字符串常量，会默认合并为一个常量字符串    
printf("Hello "
    "world\n");
```    

## 简单的测量时间消耗
```C
#include <sys/time.h>
long long getCurrentTime() {
    struct timeval te;
    gettimeofday(&te, NULL); // get current time
    long long microseconds = te.tv_sec*1000000LL + te.tv_usec;
    return microseconds;
}

long long gpu_start = getCurrentTime();
vecadd<<<block_num, thread_num>>>(dA, dB, dC);
CudaSafeCall(cudaDeviceSynchronize());
long long gpu_end = getCurrentTime();
```

## 随机数

```C
#include <time.h>
#include <sys/time.h>

srand(time(NULL));
printf("RAND_MAX: %d\n", RAND_MAX);
printf("rand()  : %d\n", rand());

printf("RandFloat(0.0f, 10.0f): %f\n", 
RandFloat(0.0f, 10.0f));

//随机浮点数
float RandFloat(float low, float high)
{
    float t = (float)rand() / (float)RAND_MAX;
    return (1.0f - t) * low + t * high;
}
```





