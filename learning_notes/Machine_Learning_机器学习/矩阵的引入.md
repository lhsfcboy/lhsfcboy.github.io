
## 向量的引入

| 国家     | 金牌 | 银牌 | 铜牌 |
|----------|------|------|------|
| 中       | 38   | 32   | 18   |

### 向量的相加

两个奥委会合并

### 向量的数乘

`本奥委会在这届奥运会奖牌榜恰好是上一届的两倍!`

## 矩阵的引入
矩阵就是一系列的数据,例如[东京奥运会奖牌榜](https://zh.wikipedia.org/zh-cn/2020年夏季奥林匹克运动会奖牌榜)

| 国家     | 金牌 | 银牌 | 铜牌 |
|----------|------|------|------|
| 美       | 39   | 41   | 33   |
| 中       | 38   | 32   | 18   |
| 日       | 27   | 14   | 17   |
| 英       | 22   | 21   | 22   |
| 俄       | 20   | 28   | 23   |

这个表格可以看作一个矩阵，每一行代表一个国家，每一列代表一种奖牌的数量。

## 矩阵的运算
怎么给奥运奖牌榜排序呢?

- 金牌优先 获得金牌多的排前, 暂时不考虑金牌相同的情况
  - 这种观点认为, 金牌毫无疑问是最重要的, 银牌和铜牌就不考虑了
  - 这也是上述数据的默认排序
- 奖牌同权 获得奖牌多的排前
  - 这种观点认为需要考虑顶尖运动员群体的整体数量, 具体的金银铜排名不重要

| 国家     | 金牌 | 银牌 | 铜牌 | 总奖牌数 |
|----------|------|------|------|----------|
| 美国     | 39   | 41   | 33   | 113      |
| 中国     | 38   | 32   | 18   | 88       |
| 俄国     | 20   | 28   | 23   | 71       |
| 英国     | 22   | 21   | 22   | 65       |
| 日本     | 27   | 14   | 17   | 58       |  

- 积分换算 例如金牌三分, 银牌两分, 铜牌一分
  - 这种积分换算似乎综合了上面两种看法, 即考虑了银牌铜牌的存在, 又确保了金牌的重要性

| 国家     | 金牌 | 银牌 | 铜牌 | 总积分 |
|----------|------|------|------|--------|
| 美国     | 39   | 41   | 33   | 232    |
| 中国     | 38   | 32   | 18   | 196    |
| 俄国     | 20   | 28   | 23   | 139    |
| 英国     | 22   | 21   | 22   | 130    |
| 日本     | 27   | 14   | 17   | 126    |

- 积分换算的权重调整
  - 可是上述算法的权重似乎是个可调整(或者说操纵)的数值
  - 例如, 金牌10分, 银牌4分, 铜牌1分, 这个权重似乎也没错
    
具体计算过程
```text
- 美国：39 * 10 + 41 * 4 + 33 * 1 = 390 + 164 + 33 = 587
- 中国：38 * 10 + 32 * 4 + 18 * 1 = 380 + 128 + 18 = 526
- 日本：27 * 10 + 14 * 4 + 17 * 1 = 270 + 56  + 17 = 343
- 英国：22 * 10 + 21 * 4 + 22 * 1 = 220 + 84  + 22 = 326
- 俄国：20 * 10 + 28 * 4 + 23 * 1 = 200 + 112 + 23 = 335
```
| 国家     | 金牌 | 银牌 | 铜牌 | 总积分 |
|----------|------|------|------|--------|
| 美国     | 39   | 41   | 33   | 587    |
| 中国     | 38   | 32   | 18   | 526    |
| 日本     | 27   | 14   | 17   | 343    |
| 俄国     | 20   | 28   | 23   | 335    |
| 英国     | 22   | 21   | 22   | 326    |

## 矩阵与列向量的乘法
M是矩阵, x 是向量
```
10,
4,
1,
```
把复杂的依次乘积相加的写法合并为了矩阵乘以向量的形式.
等号的坐标是数据矩阵和权重向量, 等号的右边是计算结果, 计算结果是个标量. 

那么之前的金牌优先, 和奖牌同权都可以写成这个形式

## 矩阵与矩阵的乘法

再简化一次写法, 多个列向量写在一块,不就是个矩阵了吗?
一个矩阵和多个向量的乘法就可以写成一个矩阵乘以另一个矩阵的形式?
此时的计算结果应该是向量.

如果我们想要查看不同权重对总积分的影响，就可以一下尝试多个权重，看到每个权重的结果了。

## 调整参数向量得到指定结果

现在, 我们回到矩阵与列向量的乘法.
至此, 我们理解了`原始数据矩阵`乘以`参数向量`可以得到`结果向量`.
通过调整参数向量, 我们可以得到不同的结果向量. 

换句话说, 如果我们有一个给定的结果向量作为目标结果, 
那么通过调整参数向量, 最终我们有可能获得一个效果非常好的参数向量,
用这个参数向量计算得到的结果向量, 会非常接近与我们的目标结果.

最开始, 我们不知道这个理想的参数向量的具体值, 那么可以凭借先验经验设置一个可能的还不错的参数.
- 我们可能根据足球联赛的积分规则, 得到 `[3, 2, 1]`这个参数
- 完全没有领域知识, 就随便蒙一个

经过计算得到了, 初步结果. 与理想结果有偏差.
如果我们能够根据计算结果的偏差, 去修正参数, 并使得修正后的参数在计算后输出更接近理想结果, 那么大事可成也!

这意味着我们可以通过迭代计算, 一步步接近理想的参数!

- 如何评价计算结果的差值?
  - 结果是标量的形式
  - 结果是2维向量的形式
  - 结果是多维向量的形式
  - 需要理解一定的 统计概率
- 如何根据计算结果的偏差去修正参数?

至此, 我们已经掌握了机器学习的核心概念.

## 更具体的例子

奥运会奖牌榜 到 各个国家奥运会实力的积分换算系统.

- 最近10界奥运会奖牌榜, 大家公认的奥运会排名

## 矩阵与矩阵的乘法

## Python实现
```python
import numpy as np

M = np.array([
    [39, 41, 33],  # 美国
    [38, 32, 18],  # 中国
    [27, 14, 17],  # 日本
    [22, 21, 22],  # 英国
    [20, 28, 23]   # 俄罗斯
])


# 定义奖牌积分权重向量 W
W = np.array([10, 4, 1])  # 注意这里是横着写的

# 进行矩阵与向量的乘法计算总积分
S = M @ W

# 输出结果
print("国家总积分: ", S)
```

```python
import numpy as np

# 定义奥运奖牌榜矩阵 M
M = np.array([
    [39, 41, 33],  # 美国
    [38, 32, 18],  # 中国
    [27, 14, 17],  # 日本
    [22, 21, 22],  # 英国
    [20, 28, 23]   # 俄罗斯
])

# 定义多个权重向量组成的权重矩阵 W
W = np.array([
    [1, 0, 0],  # 只考虑金牌
    [1, 1, 1],  # 所有奖牌同权重
    [3, 2, 1]   # 金牌3分，银牌2分，铜牌1分
])

# 计算每个权重向量下的总积分
S = M @ W.T  # W.T 为转置矩阵，便于矩阵乘法计算

# 输出结果
print("每个权重下的国家总积分:\n", S)
```
